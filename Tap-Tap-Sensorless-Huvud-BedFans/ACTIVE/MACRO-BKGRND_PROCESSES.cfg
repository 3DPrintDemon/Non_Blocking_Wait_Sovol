[delayed_gcode periodic]
initial_duration: 5
gcode:
    {% set ACTUAL_TEMP = printer.extruder.temperature %}                                  ; Get actual extruder temp
    {% set TARGET_TEMP = printer.extruder.target %}                                       ; Get target extruder temp
    {% set bedtarget = printer.heater_bed.target|int %}
    {% set currentbedtemp = printer.heater_bed.temperature|int %}
    {% set current_temperature = printer["temperature_sensor Chamber"].temperature|int %}
    M118 EXTRUDER TEMP/TARGET:{ACTUAL_TEMP}/{TARGET_TEMP} - BED TEMP/TARGET:{currentbedtemp}/{bedtarget} - ENCLOSURE TEMP:{current_temperature}
    _BEDFANCHECK
    UPDATE_DELAYED_GCODE ID=periodic DURATION=5